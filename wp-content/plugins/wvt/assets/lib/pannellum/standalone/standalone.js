function anError(e){"use strict";var a=document.createElement("div");a.className="pnlm-info-box";var t=document.createElement("p");t.textContent=e,a.appendChild(t),document.getElementById("container").appendChild(a)}var viewer;function parseURLParameters(){"use strict";var e;if(e=window.location.hash.length>0?window.location.hash.slice(1):window.location.search.slice(1)){e=e.split("&");for(var a,t={},n=0;n<e.length;n++){var o=e[n].split("=")[0],r=e[n].split("=")[1];if(""!=r)switch(o){case"hfov":case"pitch":case"yaw":case"haov":case"vaov":case"minHfov":case"maxHfov":case"minPitch":case"maxPitch":case"minYaw":case"maxYaw":case"vOffset":case"autoRotate":t[o]=Number(r);break;case"autoLoad":case"ignoreGPanoXMP":t[o]=JSON.parse(r);break;case"author":case"title":case"firstScene":case"fallback":case"preview":case"panorama":case"config":t[o]=decodeURIComponent(r);break;default:return void anError("An invalid configuration parameter was specified: "+o)}}if(t.config)return(a=new XMLHttpRequest).onload=function(){if(200!=a.status){var e=document.createElement("a");return e.href=t.config,e.textContent=e.href,void anError("The file "+e.outerHTML+" could not be accessed.")}var n=JSON.parse(a.responseText);for(var o in void 0===n.basePath&&(n.basePath=t.config.substring(0,t.config.lastIndexOf("/")+1)),n)t.hasOwnProperty(o)||(t[o]=n[o]);"title"in t&&(document.title=t.title),t.escapeHTML=!0,viewer=pannellum.viewer("container",t)},a.open("GET",t.config),void a.send();"title"in t&&(document.title=t.title),t.escapeHTML=!0,viewer=pannellum.viewer("container",t)}else anError("No configuration options were specified.")}"file:"==window.location.protocol?anError("Due to browser security restrictions, Pannellum can't be run from the local filesystem; some sort of web server must be used."):parseURLParameters();