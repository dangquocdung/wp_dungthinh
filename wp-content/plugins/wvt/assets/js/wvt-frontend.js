!function(e){"use strict";window.wvtp=[],window.wvtp.instance=[],window.wvtp.scene={},window.wvtp.create=function(e,t){var n=t.option,a=this.generateOption(e,n);wvt.helper.loader(e),wvtp.instance[e]=pannellum.viewer(e,a),wvt.helper.contextMenu(),wvtp.instance[e].on("load",function(){var t=wvtp.instance[e].getScene();wvt.helper.createToolbar(e,wvtp.scene[t],wvtp.instance[e]),wvt.helper.spotList(e,wvtp.scene[t],wvtp.instance[e]),wvt.helper.singlePanoramaMap(e,wvtp.scene[t],t.split("_")[1]),wvt.helper.hideLoader(e)})},window.wvtp.generateOption=function(e,t){var n={};return wvtp.scene[e]=n[e]=wvt.helper.panoramaOption(t),{default:{firstScene:e,sceneFadeDuration:1e3},scenes:n}},window.wvtp.populate=function(){if(Object.keys(wvtf).length)for(var e in wvtf)wvtp.create(e,wvtf[e])},window.wvtp.addToCart=function(){e(document.body).on("click",".wvt-product-atc",function(t){t.preventDefault();var n=e(this);if(!n.hasClass("loading")){n.addClass("loading"),n.prepend('<span><i class="fa fa-spinner fa-pulse"></i></span>');var a={action:"wvt_atc",product:n.data("id")};e.post(window.wvt_global.ajax,a,function(t){t.success&&(n.find(".fa").remove(),n.find("span").html('<i class="fa fa-check"></i>'),e(document.body).trigger("wc_fragment_refresh"),setTimeout(function(){n.find("span").remove(),n.removeClass("loading")},500))},"json")}})},e(document).ready(function(){wvtp.populate(),wvtp.addToCart()})}(jQuery);