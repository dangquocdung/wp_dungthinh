/**
 * Coronar
 * COVID19 Coronavirus Visual Dashboard
 * Exclusively on https://1.envato.market/coronar
 *
 * @encoding        UTF-8
 * @version         2.0.0
 * @copyright       (C) 2018 - 2020 Merkulove ( https://merkulov.design/ ). All rights reserved.
 * @license         Envato License https://1.envato.market/KYbje
 * @contributors    Nemirovskiy Vitaliy (nemirovskiyvitaliy@gmail.com), Alexander Khmelnitskiy (info@alexander.khmelnitskiy.ua), Dmitry Merkulov (dmitry@merkulov.design)
 * @support         help@merkulov.design
 * @license         Envato License https://1.envato.market/KYbje
 **/
!function(e){"use strict";e(document).ready((function(){let s=window.mdpCoronar;e(".mdc-drawer__header > a.mdp-plugin-title").on("click",(function(s){s.preventDefault(),e("html, body").animate({scrollTop:0},500)})),e("#mdp-subscribe").on("click",(function(s){s.preventDefault();let t=e("#mdp-subscribe-mail"),n=e("#mdp-subscribe-name"),o=t.parent().data("mdc-index");if(t.val().length>0&&window.MerkulovMaterial[o].valid){const s=document.querySelector(".mdp-subscribe-form-message");n.prop("disabled",!0),t.prop("disabled",!0),e("#mdp-subscribe").prop("disabled",!0),e.ajax({type:"GET",url:"https://merkulove.host/wp-content/plugins/mdp-purchase-validator/esputnik/subscribe.php",crossDomain:!0,data:"name="+n.val()+"&mail="+t.val()+"&plugin=coronar",success:function(e){!0===e?(s.style.display="block",s.classList.add("mdp-subscribe-form-message-success"),s.innerHTML=s.dataset.success,setTimeout((function(){s.style.display="none"}),7500)):(s.style.display="block",s.classList.add("mdp-subscribe-form-message-error"),s.innerHTML=s.dataset.error,setTimeout((function(){s.style.display="none"}),7500))},error:function(t){s.style.display="block",s.classList.add("mdp-subscribe-form-message-error"),s.innerHTML=s.dataset.warn,e("#mdp-subscribe-name").prop("disabled",!1),e("#mdp-subscribe-mail").prop("disabled",!1),e("#mdp-subscribe").prop("disabled",!1),setTimeout((function(){s.style.display="none"}),7500)}})}else window.MerkulovMaterial[o].valid=!1}));let t=e("#mdp-updates-btn");t.on("click",(function(n){n.preventDefault(),t.attr("disabled",!0).addClass("mdp-spin").find(".material-icons").text("refresh");let o={action:"check_updates",nonce:s.nonce,checkUpdates:!0};e.post(s.ajaxURL,o,(function(e){e?(console.info("Latest version information updated."),location.reload()):console.warn(e)}),"json").fail((function(e){console.error(e),alert("Looks like an Error has occurred. Please try again later.")})).always((function(){t.attr("disabled",!1).removeClass("mdp-spin").find(".material-icons").text("autorenew")}))})),function(){let s=e("#mdp_custom_css_fld");if(!s.length)return;let t,n=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};n.codemirror=_.extend({},n.codemirror,{indentUnit:2,tabSize:2,mode:"css"}),t=wp.codeEditor.initialize("mdp_custom_css_fld",n),t.codemirror.on("change",(function(e){t.codemirror.save(),s.change()}))}(),e(".mdp-chosen.chosen-select").chosen({width:"100%",search_contains:!0,disable_search_threshold:7,inherit_select_classes:!0,no_results_text:"Oops, nothing found",max_selected_options:3})}))}(jQuery);